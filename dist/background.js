(()=>{"use strict";function t(){chrome.storage.local.get("profilePrefix",(function(t){t.profilePrefix&&fetch("https://api.ipify.org?format=json").then((function(t){return t.json()})).then((function(e){var n,o,i;["192.168.0.1","127.0.0.1"].includes(e.ip)?console.log("IP ".concat(e.ip," is in the exclusion list. Data not sent.")):(n=t.profilePrefix,o=e.ip,i=(new Date).toISOString(),fetch("http://localhost:3000/api/store-ip",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({prefix:n,ip:o,timestamp:i})}).then((function(t){return t.json()})).then((function(t){console.log("Data sent to server:",t)})).catch((function(t){console.error("Error sending data to server:",t)})))}))}))}chrome.tabs.onUpdated.addListener((function(e,n,o){"complete"===n.status&&t()})),chrome.runtime.onStartup.addListener((function(){t()}))})();