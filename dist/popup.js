(()=>{"use strict";document.addEventListener("DOMContentLoaded",(()=>{const e=document.getElementById("prefix"),o=document.getElementById("savePrefix"),t=document.getElementById("errorDisplay"),r=document.getElementById("ipDisplay"),n=document.getElementById("logDisplay");function l(e){t.textContent=e}chrome.storage.local.get("profilePrefix",(o=>{o.profilePrefix?(e.value=o.profilePrefix,console.log("Prefix retrieved:",o.profilePrefix)):console.log("No prefix found in storage.")})),o.addEventListener("click",(()=>{const o=e.value;if(o)chrome.storage.local.set({profilePrefix:o},(()=>{console.log("Prefix saved:",o),alert("Prefix saved successfully!"),window.close()}));else{const e="Please enter a prefix.";console.log(e),l(e)}})),fetch("https://api.ipify.org?format=json").then((e=>e.json())).then((e=>{r.textContent=`Your IP: ${e.ip}`})).catch((e=>{console.error(e),l("Error fetching IP address. Please try again.")})),chrome.storage.local.get("logs",(e=>{const o=e.logs||[];n.innerHTML=o.map((e=>`<p>[${e.timestamp}] ${e.message}</p>`)).join("")}))}))})();